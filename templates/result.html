<!doctype html>
<html>
<head>
  <title>HSML JSON Result</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="container">
    <h1>Generated HSML JSON</h1>
    <pre>{{ json_str }}</pre>
    <button id="downloadButton">Download HSML JSON</button>
    <br><br>
    <a href="/">Create another</a>
  </div>
  <script>
    document.getElementById("downloadButton").addEventListener("click", function() {
      const jsonStr = {{ json_str | tojson }};
      const blob = new Blob([jsonStr], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "hsml.json";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
